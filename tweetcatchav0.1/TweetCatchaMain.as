package {		import flash.display.MovieClip;		import flash.events.Event;	import flash.events.ProgressEvent;		import flash.net.URLLoader;	import flash.net.URLRequest;		import com.swfjunkie.tweetr.Tweetr;	import com.swfjunkie.tweetr.events.TweetEvent;		public class TweetCatchaMain extends MovieClip {		private var _loader:URLLoader;		private var _tweetr:Tweetr;				public function TweetCatchaMain() {			trace("The root has started loading");			root.loaderInfo.addEventListener(Event.COMPLETE, _onRootLoaded);		}				private function _onRootLoaded($e:Event):void {			trace("The root has loaded");			root.loaderInfo.removeEventListener(Event.COMPLETE, _onRootLoaded);			//_loadHeadLineTweets("http://bit.ly/wnvFJ");			//_loadHeadLineTweets("http://bit.ly/4dIkF5");			_loader = new URLLoader();			//_loadBitlyURL();			_loadTrendingTopics();		}				private function _loadBitlyURL():void {			_loader.addEventListener(Event.COMPLETE, _onBitlyLoaded, false, 0, true);			// http://www.youtube.com/watch?v=a1IpPpB3iWI			// http://api.bit.ly/shorten?version=2.0.1&longUrl=http://cnn.com&login=bitlyapidemo&apiKey=R_a40a5b4801e44f5e0bf6fd5f55a2b3d4			//_loader.load(new URLRequest("http://api.bit.ly/shorten?version=2.0.1&longUrl=http://www.youtube.com/watch?v=a1IpPpB3iWI&login=nickhardeman&apiKey=R_a40a5b4801e44f5e0bf6fd5f55a2b3d4&format=xml"));			//_loader.load(new URLRequest("http://api.bit.ly/expand?version=2.0.1&shortUrl=http://bit.ly/wnvFJ&login=nickhardeman&apiKey=R_a40a5b4801e44f5e0bf6fd5f55a2b3d4&format=xml"));						//http://www.nytimes.com/2009/10/17/health/17flu.html			_loader.load(new URLRequest("http://api.bit.ly/shorten?version=2.0.1&longUrl=http://www.youtube.com/watch?v=a1IpPpB3iWI&login=nickhardeman&apiKey=R_a40a5b4801e44f5e0bf6fd5f55a2b3d4&format=xml"));		}				private function _onBitlyLoaded($e:Event):void {			//trace("Bitly has loaded "+XML($e.target.data));			trace("Bitly loaded: Short url: "+XML($e.target.data)..shortUrl);			_loadHeadLineTweets(String(XML($e.target.data)..shortUrl));		}				private function _loadHeadLineTweets($bit:String):void {			trace("Loading the tweets with "+$bit);			_tweetr = new Tweetr();			_tweetr.addEventListener(TweetEvent.COMPLETE, _onTweetsLoaded, false, 0, true);			_tweetr.addEventListener(TweetEvent.FAILED, _onTweetLoadFailBlog, false, 0, true);			_tweetr.search($bit);		}				private function _onTweetsLoaded($e:TweetEvent):void {			_tweetr.removeEventListener(TweetEvent.COMPLETE, _onTweetsLoaded);			_tweetr.removeEventListener(TweetEvent.FAILED, _onTweetLoadFailBlog);			for (var i:int = 0; i < $e.responseArray.length; i++) {				trace("Tweet: "+$e.responseArray[i].text);			}		}				private function _loadTrendingTopics():void {			_tweetr = new Tweetr();			_tweetr.addEventListener(TweetEvent.COMPLETE, _onTrendingTopicsLoaded, false, 0, true);			_tweetr.addEventListener(TweetEvent.FAILED, _onTweetLoadFailBlog, false, 0, true);			_tweetr.trends();		}				private function _onTrendingTopicsLoaded($e:TweetEvent):void {			_tweetr.removeEventListener(TweetEvent.COMPLETE, _onTweetsLoaded);			_tweetr.removeEventListener(TweetEvent.FAILED, _onTweetLoadFailBlog);			for (var i:int = 0; i < $e.responseArray.length; i++) {				trace("Tweet: "+$e.responseArray[i].name);			}		}				private function _onTweetLoadFailBlog($e:TweetEvent):void {			trace("Main :: _onTweetLoadFailBlog : There has been a problem with the tweets");					}	}}