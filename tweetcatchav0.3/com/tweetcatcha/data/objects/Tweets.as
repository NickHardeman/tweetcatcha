/*Object to store and parse all the tweets*/package com.tweetcatcha.data.objects {		import flash.events.*;	import flash.net.URLLoader;	import flash.net.URLRequest;	import flash.events.EventDispatcher;		import com.tweetcatcha.events.TweetIDEvent;		public class Tweets extends EventDispatcher {				private var feed:XML;		private var ID:int;		private var url:String;				private var tweets:Array = [];				private var idIncrement:int;				//private var BACKTYPE_KEY	:String = "93cf9404dc4d8aebe92f"; //nick		private var BACKTYPE_KEY	:String = "ebd5e5b937952e71f44a"; //brucedrummond@gmail.com				//constructor		public function Tweets(ID:int, url:String) {			//this.feed = feed;			this.ID = ID;			this.url = url;			//trace("ID" + ": " + ID);			//parseXML();			_searchHeadline();		}				//search the headline		private function _searchHeadline():void {			//trace("loading tweets");			var _loader:URLLoader = new URLLoader();			_loader.addEventListener(Event.COMPLETE, _onFeedLoaded);			_loader.load( new URLRequest( "http://backtweets.com/search.xml?q="+ url +"&key="+ BACKTYPE_KEY ) );			//_loader.load( new URLRequest( "com/tweetcatcha/backtweet_results.xml" ) );		}				//create new tweets object and send it the results		private function _onFeedLoaded($e:Event):void {			$e.target.removeEventListener(Event.COMPLETE, _onFeedLoaded);			//trace("These are the results : "+ XML($e.target.data).toXMLString());			feed = new XML($e.target.data);			//trace(newsItems[idIncrement].url);			//trace(feed);			//var tweets:Tweets = new Tweets(_xml, idIncrement, newsItems[idIncrement].url);			//tweets.addEventListener(TweetIDEvent.TWEETID, _onTweetsLoaded);			//parseXML();			//idIncrement++;			parseXML();		}				//parse the XML received		public function parseXML():void {			//trace(feed.totalresults);			var allTweets:XMLList = feed.tweets;			//trace("Number of tweets= " + allTweets.children().length());			//for each (var feedXML:XML in feed) {			for (var i:uint = 0; i < allTweets.children().length(); i++) {				var _tweetId = allTweets.entry[i].tweet_id;				var _userId = allTweets.entry[i].tweet_from_user_id;				var _user = allTweets.entry[i].tweet_from_user;				var _profileImage = allTweets.entry[i].tweet_profile_image_url;				var _createdTime = allTweets.entry[i].tweet_created_at;				var _tweetText = allTweets.entry[i].tweet_text;								//create tweet object				var tweet:Tweet = new Tweet(											_tweetId,											_userId,											_user,											_profileImage,											_createdTime,											_tweetText,											ID,											idIncrement											);				//push tweet into tweets				tweets[tweet.ID] = tweet;				//trace(tweets[tweet.ID].ID + " " + tweet.user);				//increment the id				idIncrement++;			}						dispatchEvent( new TweetIDEvent(TweetIDEvent.TWEETID, ID) );					}				//get the tweets		public function get getTweets():Array {			return tweets;		}					}}